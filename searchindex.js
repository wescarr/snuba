Search.setIndex({"docnames": ["architecture/datamodel", "architecture/overview", "architecture/partitioning", "architecture/queryprocessing", "clickhouse/death_queries", "configuration/dataset", "configuration/entity", "configuration/entity_subscription", "configuration/intro", "configuration/migration_group", "configuration/overview", "configuration/readable_storage", "configuration/writable_storage", "contributing/environment", "getstarted", "index", "intro", "language/snql", "migrations/modes", "query/overview"], "filenames": ["architecture/datamodel.rst", "architecture/overview.rst", "architecture/partitioning.rst", "architecture/queryprocessing.rst", "clickhouse/death_queries.rst", "configuration/dataset.md", "configuration/entity.md", "configuration/entity_subscription.md", "configuration/intro.rst", "configuration/migration_group.md", "configuration/overview.rst", "configuration/readable_storage.md", "configuration/writable_storage.md", "contributing/environment.rst", "getstarted.rst", "index.rst", "intro.rst", "language/snql.rst", "migrations/modes.rst", "query/overview.rst"], "titles": ["Snuba Data Model", "Snuba Architecture Overview", "Snuba Data Partitioning (under development)", "Snuba Query Processing", "Clickhouse Queries Of Death", "Dataset Schema", "Entity Schema", "Entity Subscription Schema", "Dataset Configuration", "Migration Group Schema", "Dataset Configuration", "Readable Storage Schema", "Writable Storage Schema", "Snuba development environment", "Getting started with Snuba", "Features:", "Features:", "The SnQL query language", "Snuba Migration Modes", "Querying Snuba"], "terms": {"thi": [0, 1, 2, 3, 4, 5, 6, 12, 13, 14, 15, 16, 17, 18, 19], "section": [0, 1, 3, 13, 19], "explain": [0, 1, 3, 13, 19], "how": [0, 2, 13, 17, 19], "i": [0, 1, 2, 3, 4, 6, 9, 12, 13, 14, 15, 16, 17, 18, 19], "organ": [0, 1], "user": [0, 3, 18, 19], "face": 0, "map": [0, 6, 11, 12], "underli": [0, 17], "databas": [0, 1, 2, 15, 16, 17], "clickhous": [0, 1, 3, 6, 11, 12, 13, 14, 15, 16, 17, 18, 19], "case": [0, 1, 3, 17, 19], "The": [0, 1, 3, 4, 6, 11, 12, 13, 14, 15, 16, 18, 19], "divid": [0, 3], "horizont": 0, "logic": [0, 6, 15, 16], "physic": 0, "what": [0, 3, 12, 19], "visibl": [0, 19], "client": [0, 1, 14, 15, 16, 19], "through": [0, 1, 3, 8, 10, 15, 16, 17], "queri": [0, 2, 6, 11, 12, 13, 15, 16], "languag": [0, 1, 3, 15, 16, 19], "element": [0, 19], "mai": [0, 14], "1": [0, 2, 17, 18, 19], "tabl": [0, 1, 3, 6, 11, 12, 14, 18, 19], "instead": [0, 13], "concept": 0, "like": [0, 3, 15, 16, 17, 19], "view": [0, 1, 3, 6], "reason": [0, 3, 12, 13], "behind": 0, "divis": 0, "allow": [0, 1, 3, 7, 15, 16, 19], "expos": [0, 17], "stabl": 0, "interfac": [0, 3], "perform": [0, 1, 3, 13, 15, 16], "complex": [0, 3], "intern": [0, 19], "execut": [0, 1, 3, 12, 19], "differ": [0, 1, 2, 3, 6, 17], "part": [0, 3, 17, 19], "improv": 0, "wai": [0, 1, 3, 14, 18, 19], "transpar": 0, "rest": 0, "outlin": [0, 18], "compos": [0, 3], "two": [0, 1, 3, 12, 17, 18], "thei": [0, 1, 3, 17, 18], "ar": [0, 1, 2, 3, 7, 8, 10, 12, 13, 14, 17, 18, 19], "connect": [0, 18, 19], "each": [0, 3, 14, 17, 19], "other": [0, 3, 17, 19], "main": [0, 1, 3, 18], "describ": [0, 1, 3, 17, 19], "below": [0, 1, 17, 19], "A": [0, 1, 2, 4, 11, 12, 14, 17, 19], "name": [0, 2, 3, 5, 6, 7, 9, 11, 12, 19], "space": 0, "over": [0, 3, 15, 16], "It": [0, 1, 3, 13, 17, 19], "provid": [0, 1, 3, 6, 12, 14, 15, 16, 17, 19], "its": [0, 1, 3, 17, 18], "own": [0, 1], "schema": [0, 2, 3, 19], "independ": [0, 1, 3], "from": [0, 1, 2, 3, 4, 6, 12, 13, 14, 15, 16, 17, 19], "both": [0, 1, 3, 15, 16], "term": [0, 1], "discov": [0, 15, 16, 19], "outcom": [0, 15, 16], "session": [0, 15, 16], "There": [0, 1, 17, 19], "them": [0, 3, 19], "can": [0, 1, 2, 3, 15, 16, 17, 18, 19], "seen": 0, "contain": [0, 1, 3, 13, 17, 18, 19], "compon": [0, 3, 5, 6, 7, 9, 11, 12], "defin": [0, 3, 8, 10, 17, 19], "abstract": [0, 6], "concret": 0, "In": [0, 1, 2, 3, 13, 17, 18, 19], "everi": [0, 2, 17, 19], "target": 0, "one": [0, 1, 2, 3, 17, 18, 19], "onli": [0, 1, 3, 17, 18, 19], "extens": 0, "fundament": 0, "block": [0, 5], "an": [0, 1, 2, 3, 6, 12, 17, 19], "repres": [0, 1, 3, 6, 11, 12, 17, 19], "instanc": [0, 2, 14], "transact": [0, 3, 17], "error": [0, 3, 15, 16, 17, 19], "practic": 0, "correspond": [0, 2, 17, 18], "row": [0, 1, 3, 12, 17, 19], "class": [0, 3, 6, 11, 12, 19], "": [0, 2, 5, 13, 17, 18, 19], "set": [0, 2, 3, 6, 13, 15, 16, 17, 18, 19], "ha": [0, 1, 3, 15, 16, 19], "which": [0, 1, 3, 4, 6, 12, 13, 15, 16, 17, 18, 19], "list": [0, 14, 19], "field": [0, 2, 12, 17, 19], "associ": [0, 2, 5], "all": [0, 3, 13, 15, 16, 17, 18, 19], "sever": [0, 3, 15, 16, 19], "against": [0, 12], "valid": [0, 2, 6, 8, 10, 17, 19], "No": [0, 1], "lower": 0, "level": 0, "suppos": [0, 3], "unequivoc": 0, "cannot": [0, 19], "present": [0, 19], "multipl": [0, 1, 2, 3, 15, 16, 17], "relat": [0, 1, 3, 15, 16, 19], "we": [0, 1, 2, 3, 17, 18, 19], "support": [0, 1, 2, 3, 12, 15, 16, 17, 18], "mimic": 0, "foreign": 0, "kei": [0, 2, 3, 6, 11, 12, 17, 19], "meant": 0, "mani": 0, "point": [0, 1, 15, 16, 18], "time": [0, 1, 3, 6, 14, 15, 16, 17, 19], "inherit": 0, "nomin": 0, "subtyp": 0, "group": [0, 10, 17, 19], "share": [0, 1], "parent": 0, "semant": [0, 1, 3], "must": [0, 1, 2, 12, 13, 17, 18], "union": 0, "whose": [0, 19], "also": [0, 1, 3, 13, 14, 17, 18, 19], "possibl": [0, 1, 3, 17, 19], "just": [0, 19], "largest": 0, "unit": [0, 13], "where": [0, 2, 3, 15, 16, 19], "some": [0, 1, 3, 17], "strong": [0, 1], "guarante": [0, 1, 19], "specif": [0, 1, 3, 6, 15, 16, 17, 18, 19], "expect": [0, 18], "serializ": 0, "pleas": [0, 13], "don": 0, "t": [0, 1, 12, 17], "us": [0, 1, 2, 3, 6, 11, 12, 13, 14, 17, 18, 19], "serious": 0, "you": [0, 1, 2, 4, 13, 14, 17, 18, 19], "think": 0, "need": [0, 1, 3, 12, 18, 19], "probabl": 0, "doe": [0, 1, 3, 13, 19], "extend": 0, "ani": [0, 1, 3, 17, 19], "span": [0, 2], "best": [0, 18], "have": [0, 1, 2, 3, 4, 13, 19], "eventu": [0, 1], "impact": [0, 12], "subscript": [0, 1, 3, 6, 10, 12], "These": [0, 1, 3, 8, 10, 13, 17, 18], "work": [0, 1, 3, 17, 18], "sinc": [0, 1, 15, 16], "otherwis": [0, 14], "would": [0, 3, 17, 19], "requir": [0, 1, 2, 3, 6, 11, 12, 17], "do": [0, 2, 3, 4, 13, 17], "To": [0, 2, 3], "precis": 0, "depend": [0, 1, 3, 13, 17, 18], "even": [0, 17], "smaller": 0, "ingest": [0, 13, 15, 16], "topic": [0, 1, 12], "partit": [0, 1, 6, 11, 12, 15], "project_id": [0, 3, 17, 19], "maximum": [0, 7], "more": [0, 1, 17, 18, 19], "detail": [0, 1, 2, 17, 18, 19], "ok": 0, "guid": [0, 14, 19], "materi": [0, 1, 3], "As": [0, 3, 19], "consequ": 0, "reflect": [0, 3], "db": 0, "abl": [0, 19], "gener": [0, 1, 2, 18, 19], "ddl": [0, 15, 16], "statement": [0, 12], "build": [0, 2, 19], "discuss": [0, 1, 3, 19], "abov": [0, 3, 18, 19], "thu": 0, "back": [0, 1], "least": [0, 1], "readabl": [0, 10], "run": [0, 1, 3, 4, 12, 14, 18, 19], "pre": [0, 3, 15, 16, 19], "aggreg": [0, 3, 7, 15, 16, 17], "per": [0, 14, 19], "optim": [0, 15, 16], "writabl": [0, 10], "fill": [0, 1, 12], "exclus": 0, "real": [0, 1], "world": 0, "studi": 0, "necessarili": 0, "current": [0, 15, 16, 17, 18], "sentri": [0, 2, 18], "product": [0, 1, 3, 4], "nor": 0, "same": [0, 2, 3, 4, 11, 12, 17, 18, 19], "deploy": [0, 15], "consid": 0, "taken": [0, 1], "isol": 0, "look": [0, 3, 17, 18, 19], "actual": [0, 17, 19], "april": 0, "2020": 0, "though": [0, 19], "design": [0, 3], "should": [0, 2, 3, 14, 17, 18, 19], "move": [0, 18], "toward": 0, "individu": [0, 3], "raw": [0, 14], "painfulli": 0, "slow": 0, "so": [0, 1, 3, 17, 18, 19], "One": 0, "comput": 0, "hourli": 0, "much": [0, 15, 16], "effici": 0, "planner": 0, "pick": [0, 3, 19], "canon": 0, "three": [0, 17], "event": [0, 1, 3, 12, 15, 16, 17, 19], "form": [0, 2, 3, 15, 16, 17], "give": [0, 3, 17], "common": [0, 3, 19], "read": [0, 1, 6], "put": 0, "less": [0, 19], "load": [0, 1, 3, 8, 10, 19], "clickhosu": 0, "when": [0, 1, 4, 17, 18, 19], "offer": 0, "merg": [0, 1, 19], "serv": [0, 1, 3], "essenti": [0, 1], "simpl": [0, 17], "includ": [0, 3, 13, 17, 19], "togeth": [0, 15, 16], "groupedmessag": [0, 17, 19], "groupassinge": 0, "left": [0, 17, 19], "similar": [0, 1, 3, 14, 15, 16, 19], "wa": [0, 1, 3, 15, 16, 19], "previou": [0, 3], "seri": [1, 3, 15, 16], "orient": 1, "store": [1, 15, 16], "columnari": 1, "distribut": [1, 11, 12, 14, 15, 16, 17], "well": [1, 3, 15, 16], "suit": [1, 13], "kind": [1, 5, 6, 7, 9, 11, 12], "fulli": [1, 18], "input": 1, "stream": [1, 12, 15, 16], "kafka": [1, 12, 13, 14, 15, 16], "todai": 1, "either": [1, 17, 19], "chosen": 1, "becaus": [1, 17], "good": 1, "balanc": [1, 19], "replic": [1, 19], "natur": 1, "flexibl": 1, "engin": [1, 3], "goal": [1, 3], "dataset": [1, 2, 15, 17, 19], "model": [1, 3, 15, 16, 17, 18], "api": [1, 13, 19], "endpoint": [1, 14, 17], "insert": [1, 12], "except": [1, 3, 17, 19], "debug": [1, 17, 19], "mode": [1, 12, 15, 19], "process": [1, 13, 15, 19], "consum": [1, 2, 12, 13, 15, 16, 19], "written": [1, 3, 14], "write": [1, 3, 6, 12, 19], "onto": [1, 3], "most": [1, 3, 13, 15, 16, 19], "effect": 1, "batch": 1, "especi": 1, "our": [1, 3, 17], "pass": [1, 3], "onc": [1, 18, 19], "By": 1, "properli": [1, 3, 18, 19], "select": [1, 3, 4, 6, 14, 19], "dedupl": 1, "achiev": [1, 19], "exactli": [1, 17], "accept": [1, 13, 19], "simplest": 1, "system": [1, 3, 13, 15, 16, 19], "express": [1, 6, 17], "snql": [1, 15, 16, 19], "sent": [1, 17, 19], "post": [1, 19], "http": [1, 19], "call": [1, 19], "transform": [1, 3, 6, 11, 12], "done": [1, 2, 18], "receiv": [1, 3, 19], "result": [1, 3, 12, 17, 19], "push": 1, "regist": 1, "Then": 1, "relev": [1, 2, 19], "updat": 1, "period": 1, "produc": [1, 3, 17], "coexist": 1, "default": [1, 2, 14, 17, 18, 19], "monoton": 1, "multi": [1, 17, 18], "leader": 1, "hit": [1, 19], "replica": [1, 3, 18], "up": [1, 3, 13, 14, 18], "date": 1, "reach": 1, "state": 1, "forc": [1, 18, 19], "befor": [1, 3, 17], "final": [1, 12, 18, 19], "keyword": [1, 17], "singl": [1, 11, 12, 15, 16, 17, 19], "sequenti": [1, 19], "role": 1, "plai": 1, "show": 1, "If": [1, 13, 17, 18], "deploi": [1, 5], "stand": 1, "alon": 1, "won": 1, "legend": 1, "top": [1, 15, 16], "diagram": 1, "illustr": 1, "entiti": [1, 2, 3, 5, 10, 17, 19], "issu": [1, 3, 14, 15, 16, 19], "featur": [1, 2], "whole": 1, "between": [1, 3, 17, 18], "feed": 1, "messag": [1, 3, 12, 19], "upon": 1, "commit": [1, 12], "record": [1, 2, 19], "log": [1, 12], "alert": 1, "synchron": 1, "proce": 1, "lockstep": 1, "ident": 1, "exist": [1, 2, 3], "addit": [1, 3, 19], "step": [1, 3, 13, 19], "replac": [1, 3, 12, 15, 16, 19], "mutat": 1, "unmerg": 1, "reprocess": 1, "etc": [1, 17], "forward": [1, 18], "project": [1, 17, 19], "id": [1, 2, 17, 19], "order": [1, 2, 3, 13, 18, 19], "veri": [1, 3, 19], "simpler": 1, "power": [1, 15, 16], "releas": [1, 15, 16], "health": 1, "while": [1, 3], "mainli": [1, 3], "stat": [1, 15, 16, 19], "page": [1, 15, 16], "still": [1, 19], "under": [1, 15], "construct": 1, "cdc": 1, "activ": [2, 13], "subject": 2, "chang": [2, 3, 14, 15, 16, 18], "higher": [2, 15, 16], "volum": [2, 15, 16, 18], "out": [2, 18], "resourc": 2, "redi": [2, 13, 14, 15, 16], "postgr": [2, 15, 16], "across": [2, 3, 17], "assign": [2, 17, 18], "base": [2, 3, 15, 16, 17, 19], "organization_id": 2, "maintain": [2, 19], "logical_partition_map": 2, "futur": 2, "revis": 2, "along": 2, "sliced_storag": 2, "incom": [2, 12], "overrid": 2, "storageset": 2, "repartit": 2, "increment": 2, "count": [2, 14, 17], "valu": [2, 3, 6, 11, 12, 17, 18, 19], "rang": [2, 3, 17, 19], "0": [2, 17, 19], "pair": 2, "definit": 2, "sliced_clust": 2, "desir": 2, "environ": [2, 4, 14, 15, 16, 18], "follow": [2, 3, 4, 13, 14, 18, 19], "structur": [2, 3, 17, 19], "regular": 2, "storage_set_slic": 2, "storagesetkei": 2, "slice_id": 2, "column": [2, 3, 6, 11, 12, 17, 19], "calcul": 2, "ultim": 2, "destin": [2, 19], "partition_key_column_nam": [2, 6], "properti": [2, 19], "non": 2, "yaml": [2, 8, 10], "see": [2, 17, 19], "exampl": [2, 3, 17, 18, 19], "might": 2, "generic_metrics_set": 2, "generic_metrics_distribut": 2, "file": [2, 3, 8, 10, 18], "sliced_kafka_topic_map": 2, "tupl": [2, 17, 19], "custom": [2, 3], "logical_topic_nam": 2, "make": [2, 3, 13, 18, 19], "sure": [2, 13, 18], "broker": 2, "sliced_kafka_broker_config": 2, "here": [2, 3, 15, 16, 17, 18], "config": [2, 6, 11, 12, 18], "info": 2, "metric": 2, "broker_config": 2, "start": [3, 12, 13, 15, 18, 19], "pars": 3, "ast": 3, "ands": 3, "sql": [3, 15, 16, 17, 19], "being": [3, 19], "appli": [3, 6, 9, 11, 12, 15, 16, 17, 19], "prevent": [3, 19], "danger": 3, "infrastructur": 3, "data": [3, 13, 14, 15, 16, 17, 18], "focus": [3, 19], "ensur": [3, 12, 13, 18], "match": [3, 19], "function": [3, 6, 13, 15, 16, 17, 19], "promot": 3, "tag": 3, "introduct": [3, 19], "pointer": 3, "code": [3, 17, 19], "json": [3, 17], "new": [3, 18], "With": [3, 17], "whether": 3, "modul": [3, 19], "yet": [3, 18], "catch": 3, "invalid": [3, 19], "respons": [3, 6, 11, 12, 17], "return": [3, 17, 19], "http400": 3, "proper": 3, "sub": 3, "check": [3, 12], "right": [3, 17, 18, 19], "after": [3, 17, 19], "happen": [3, 17], "alia": [3, 17], "shadow": 3, "signatur": 3, "reject": 3, "condit": [3, 4, 12, 17, 19], "stateless": 3, "object": [3, 6, 11, 12, 19], "place": [3, 18], "implement": 3, "sequenc": 3, "apdex": 3, "bucket": [3, 17], "respond": [3, 19], "faster": 3, "At": 3, "end": 3, "entir": [3, 17], "inspect": 3, "appropri": 3, "consist": [3, 17, 19], "rout": 3, "node": [3, 11, 12, 15, 16, 17, 19], "reduc": 3, "notabl": 3, "abc": 3, "access": [3, 14, 15, 16, 19], "indexof": 3, "been": [3, 4, 19], "rule": [3, 6, 15, 16], "contrarili": [3, 19], "full": 3, "context": [3, 14], "u": [3, 19], "easili": 3, "reus": 3, "compar": [3, 17], "Their": 3, "oper": [3, 17], "For": [3, 17, 19], "find": [3, 17], "equal": [3, 19], "equival": [3, 17], "hashmap": 3, "bloom": 3, "filter": [3, 12, 17, 19], "index": 3, "split": [3, 12], "assembl": 3, "hare": 3, "sort": 3, "ones": [3, 17], "variabl": [3, 13, 18], "increas": [3, 19], "size": 3, "progress": 3, "stop": 3, "soon": 3, "enough": 3, "fetch": 3, "minim": [3, 19], "number": [3, 7, 17, 19], "fewer": 3, "second": [3, 17, 19], "miss": [3, 19], "first": [3, 19], "simpli": 3, "format": [3, 11, 12], "string": [3, 5, 6, 7, 9, 11, 12, 17, 19], "slightli": 3, "path": 3, "take": [3, 4, 17, 18, 19], "account": 3, "multipli": 3, "solv": 3, "prefer": 3, "type": [3, 6, 11, 12, 17, 19], "few": 3, "respect": [3, 17], "creat": 3, "incredibli": 3, "ineffici": 3, "basic": 3, "overal": 3, "turn": [3, 18], "semi": 3, "shown": 4, "segfault": 4, "20": [4, 17], "7": 4, "minimum": 4, "version": [4, 5, 6, 7, 9, 11, 12, 13, 17, 19], "snuba": [4, 5, 8, 10, 15, 16, 17], "trace": 4, "tool": 4, "unless": 4, "realli": 4, "want": [4, 13, 17, 18], "down": [4, 19], "prewher": [4, 19], "fix": 4, "21": 4, "8": 4, "upgrad": [4, 13], "complet": [4, 13, 19], "is_experiment": 5, "boolean": [5, 9, 17, 18], "mark": 5, "experiment": [5, 18], "healthcheck": 5, "fail": 5, "affect": 5, "server": [5, 13, 14, 18], "slo": 5, "arrai": [5, 6, 7, 9, 11, 12, 17], "nest": [6, 11, 12], "conta": [6, 11, 12], "arg": [6, 11, 12], "readable_storag": 6, "readablestorag": 6, "writable_storag": 6, "null": [6, 7, 12, 17, 19], "writablestorag": 6, "query_processor": [6, 11, 12], "processor": [6, 11, 12], "logicalqueryprocessor": 6, "instanti": [6, 11, 12], "queryprocessor": [6, 11, 12], "translation_mapp": 6, "translat": 6, "mapper": 6, "curried_funct": 6, "required_time_column": 6, "slice": [6, 15], "max_allowed_aggreg": 7, "integ": [7, 17], "disallowed_aggreg": 7, "claus": [7, 17], "applic": [8, 10], "option": [9, 17], "flag": 9, "determin": [9, 17, 19], "migrat": [10, 15, 16], "storag": [10, 14, 18], "uniqu": [11, 12, 17, 19], "identifi": [11, 12, 17, 19], "set_kei": [11, 12], "collect": [11, 12], "locat": [11, 12], "cluster": [11, 12, 14, 18], "local_table_nam": [11, 12], "local": [11, 12, 13, 14, 19], "dist_table_nam": [11, 12], "partition_format": [11, 12], "cleanup": [11, 12], "job": [11, 12], "clickhousequeryprocessor": [11, 12], "query_splitt": [11, 12], "mandatory_condition_check": [11, 12], "stream_load": 12, "loader": 12, "convert": 12, "bodi": [12, 17], "default_top": 12, "commit_log_top": 12, "subscription_scheduled_top": 12, "schedul": [12, 19], "subscription_scheduler_mod": 12, "e": [12, 17, 19], "g": [12, 17], "global": 12, "specifi": [12, 17, 19], "subscription_result_top": 12, "replacement_top": 12, "pre_filt": 12, "streammessagefilt": 12, "dlq_polici": 12, "dlq": 12, "polici": 12, "splitter": 12, "querysplitstrategi": 12, "runtim": 12, "combin": [12, 15, 16, 17], "conditioncheck": 12, "haven": 12, "remov": [12, 19], "secur": 12, "writer_opt": 12, "extra": 12, "sourc": 13, "refer": [13, 17, 19], "get": [13, 15], "pyenv": 13, "your": [13, 18], "assum": [13, 14], "dev": 13, "homebrew": 13, "m1": 13, "mac": 13, "packag": 13, "ve": 13, "avail": 13, "export": 13, "cpath": 13, "opt": 13, "library_path": 13, "lib": 13, "clone": 13, "repo": 13, "workspac": 13, "git": 13, "github": 13, "com": 13, "getsentri": 13, "command": [13, 19], "python": [13, 19], "virtual": 13, "cd": 13, "setup": 13, "m": 13, "venv": 13, "bin": 13, "pip": 13, "22": 13, "2": [13, 17, 19], "capabl": 13, "devserv": 13, "integr": 13, "alreadi": [13, 18, 19], "docker": [13, 14, 18], "p": 13, "grep": 13, "checkout": 13, "branch": 13, "anoth": [13, 17], "termin": 13, "master": 13, "pull": 13, "devservic": [13, 14, 18], "exclud": [13, 14], "recent": 13, "bring": 13, "due": 13, "quickli": 14, "develop": [14, 15, 16, 18], "clickhouse_host": 14, "localhost": [14, 19], "redis_host": 14, "On": 14, "port": 14, "6379": 14, "9092": 14, "quick": 14, "servic": [14, 15, 16], "add": [14, 17], "line": [14, 19], "conf": [14, 18], "py": [14, 18], "sentry_eventstream": 14, "eventstream": 14, "kafkaeventstream": 14, "And": 14, "note": [14, 17, 18], "everyth": [14, 17], "utc": 14, "experi": 14, "timezon": 14, "mismatch": 14, "sentry_search": 14, "search": [14, 15, 16], "eventsdatasetsnubasearchbackend": 14, "sentry_tsdb": 14, "tsdb": 14, "redissnuba": 14, "redissnubatsdb": 14, "snubaeventstream": 14, "psql": 14, "exec": 14, "sentry_clickhous": 14, "sentry_loc": 14, "found": [14, 17, 18, 19], "hostnam": 14, "v": 14, "host": 14, "rich": [15, 16], "fast": [15, 16], "origin": [15, 16], "evolv": [15, 16], "layer": [15, 16], "graph": [15, 16, 17], "those": [15, 16], "separ": [15, 16, 17, 19], "instal": [15, 16], "directli": [15, 16], "monitor": [15, 16], "architectur": 15, "overview": 15, "within": 15, "ad": [15, 17, 18], "configur": [15, 18], "Of": 15, "death": 15, "document": [17, 18, 19], "send": 17, "join": [17, 19], "subqueri": 17, "AND": [17, 19], "OR": 17, "asc": 17, "desc": 17, "n": 17, "encod": 17, "bool": 17, "turbo": [17, 19], "impli": 17, "url": [17, 19], "pattern": 17, "subgraph": 17, "insid": 17, "curli": 17, "brace": 17, "entireti": 17, "anyth": 17, "outer": 17, "alias": 17, "avg": 17, "durat": [17, 19], "AS": [17, 19], "avg_d": 17, "max": 17, "relationship": [17, 19], "direct": 17, "short": 17, "hand": 17, "than": 17, "comma": 17, "groupassigne": [17, 19], "tot": 17, "user_id": 17, "somebodi": 17, "inner": 17, "hard": 17, "safe": 17, "convent": 17, "10": [17, 19], "11": 17, "output": 17, "treat": 17, "without": [17, 18], "noth": 17, "empti": 17, "arithmet": 17, "qualifi": 17, "infix": 17, "lh": 17, "op": [17, 19], "rh": 17, "liter": 17, "IN": [17, 19], "NOT": 17, "mandatori": 17, "declar": [17, 19], "pretti": 17, "self": 17, "explanatori": 17, "doesn": 17, "1000": [17, 19], "magic": 17, "floor": 17, "minut": 17, "hour": 17, "dai": 17, "given": 17, "timeseriesprocessor": 17, "timestamp": [17, 19], "eg": 17, "event_id": [17, 19], "event_count": 17, "todatetim": [17, 19], "2022": 17, "01": 17, "15t00": 17, "00": [17, 19], "000000": 17, "21t00": 17, "3600": [17, 19], "true": [17, 18], "rate": [17, 19], "isn": 17, "float": 17, "percentag": 17, "Or": 17, "greater": 17, "try": 18, "purpos": 18, "moment": 18, "test": 18, "via": 18, "switch": 18, "live": 18, "control": 18, "envrion": 18, "sentry_distributed_clickhouse_t": 18, "whenev": 18, "off": 18, "alter": 18, "mention": 18, "inform": 18, "fals": [18, 19], "now": 18, "zookeep": 18, "shard": 18, "link": 18, "immedi": [18, 19], "necessari": 18, "snuba_set": 18, "drive": 19, "author": 19, "architect": 19, "know": 19, "about": 19, "someth": 19, "interest": 19, "understand": 19, "offset": 19, "uint64": 19, "record_delet": 19, "uint8": 19, "statu": 19, "nullabl": 19, "last_seen": 19, "datetim": 19, "first_seen": 19, "active_at": 19, "first_release_id": 19, "group_id": 19, "go": 19, "sdk": 19, "titl": 19, "uniq": 19, "uniq_ev": 19, "groupbi": 19, "gt": 19, "2021": 19, "3": 19, "limit": 19, "granular": 19, "readi": 19, "import": 19, "recommend": 19, "care": 19, "cach": 19, "retri": 19, "bulk": 19, "method": 19, "dictionari": 19, "metadata": 19, "bad": 19, "meta": 19, "infer": 19, "1218": 19, "sorri": 19, "attribut": 19, "payload": 19, "screenshot": 19, "exhaust": 19, "statist": 19, "thread": 19, "alwai": 19, "in_ord": 19, "sampl": 19, "turbo_sample_r": 19, "correct": 19, "4": 19, "200": 19, "success": 19, "400": 19, "500": 19, "mean": 19, "timeout": 19, "advanc": 19, "429": 19, "1621038379": 19, "duration_m": 19, "95": 19, "marks_m": 19, "cache_get": 19, "cache_set": 19, "39": 19, "get_config": 19, "prepare_queri": 19, "rate_limit": 19, "validate_schema": 19, "34": 19, "clickhouse_t": 19, "errors_loc": 19, "referr": 19, "project_r": 19, "project_concurr": 19, "global_r": 19, "global_concurr": 19, "result_row": 19, "result_col": 19, "query_id": 19, "f09f3f9e1c632f395792c6a4bfe7c4f": 19, "_snuba_titl": 19, "_snuba_project_id": 19, "delet": 19, "greaterorequ": 19, "_snuba_timestamp": 19, "05": 19, "01t00": 19, "univers": 19, "11t00": 19, "broken": 19, "phase": 19, "dure": 19, "tell": 19, "decid": 19, "tree": 19, "awai": 19, "concurr": 19, "involv": 19, "invalid_queri": 19, "sai": 19, "around": 19, "42": 19, "time_window": 19, "150": 19, "resolut": 19, "60": 19, "alongsid": 19, "vari": 19, "paramet": 19, "becom": 19, "past": 19, "window": 19, "fall": 19, "larger": 19, "task": 19, "executor": 19, "jitter": 19, "jitteredtaskbuild": 19, "defint": 19}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"snuba": [0, 1, 2, 3, 13, 14, 18, 19], "data": [0, 1, 2, 19], "model": [0, 19], "dataset": [0, 5, 8, 10], "entiti": [0, 6, 7], "type": 0, "relationship": 0, "between": 0, "consist": [0, 1], "storag": [0, 1, 2, 3, 11, 12], "exampl": 0, "singl": 0, "multi": 0, "join": [0, 3], "architectur": 1, "overview": 1, "ingest": 1, "queri": [1, 3, 4, 17, 19], "within": 1, "sentri": [1, 13, 14, 15, 16, 19], "deploy": 1, "error": 1, "transact": 1, "flow": 1, "session": 1, "outcom": 1, "chang": 1, "captur": 1, "pipelin": [1, 3], "partit": 2, "under": 2, "develop": [2, 13], "ad": 2, "slice": 2, "add": 2, "logic": [2, 3], "physic": [2, 3], "map": 2, "defin": 2, "clickhous": [2, 4], "cluster": 2, "prepar": [2, 19], "shard": 2, "configur": [2, 8, 10], "kafka": 2, "topic": 2, "todo": 2, "handl": 2, "subscript": [2, 7, 19], "etc": 2, "process": 3, "phase": 3, "legaci": 3, "snql": [3, 17], "parser": 3, "valid": 3, "processor": 3, "selector": 3, "translat": 3, "splitter": 3, "formatt": 3, "composit": 3, "subqueri": 3, "gener": 3, "express": 3, "push": 3, "down": 3, "simpl": 3, "optim": 3, "Of": 4, "death": 4, "countif": 4, "doom": 4, "schema": [5, 6, 7, 9, 10, 11, 12], "properti": [5, 6, 7, 9, 11, 12], "migrat": [9, 18], "group": 9, "readabl": 11, "writabl": 12, "environ": 13, "prerequisit": 13, "instal": 13, "run": 13, "test": [13, 19], "against": 13, "get": 14, "start": 14, "requir": 14, "set": 14, "featur": [15, 16], "some": [15, 16], "us": [15, 16], "case": [15, 16], "content": 15, "The": 17, "languag": 17, "match": 17, "select": 17, "BY": 17, "where": 17, "have": 17, "order": 17, "limit": 17, "offset": 17, "granular": 17, "total": 17, "sampl": 17, "mode": 18, "enabl": 18, "local": 18, "distribut": 18, "explor": 19, "send": 19, "through": 19, "web": 19, "ui": 19, "via": 19, "curl": 19, "request": 19, "respons": 19, "format": 19, "creat": 19}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 56}})